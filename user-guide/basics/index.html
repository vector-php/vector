<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Functional Basics - Vector</title>
      
      
      
        <link rel="canonical" href="https://packagist.org/packages/vector/core/user-guide/basics/">
      
      
        <meta name="author" content="Joseph Walker">
      
    
    <meta property="og:url" content="https://packagist.org/packages/vector/core/user-guide/basics/">
    <meta property="og:title" content="Vector">
    <meta property="og:image" content="https://packagist.org/packages/vector/core/user-guide/basics//../../">
    <meta name="apple-mobile-web-app-title" content="Vector">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-f5ffeca01e.css">
    
      
      
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    
  </head>
  <body>
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                User Guide <i class="icon icon-link"></i>
              
            
          </span>
        
        
          Functional Basics
        
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  <a href="https://github.com/joseph-walker/vector" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>Vector </strong>
        
          <br>
          joseph-walker/vector
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/joseph-walker/vector/archive/master.zip" target="_blank" title="Download Vector from GitHub" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/joseph-walker/vector" target="_blank" title="Star Vector on GitHub" data-action="star">
              <i class="icon icon-star"></i> Star
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Introduction" href="../..">
      Introduction
    </a>
    
  </li>

          
            
  <li>
    <span class="section">User Guide</span>
    <ul>
      
        
  <li>
    <a class="current" title="Functional Basics" href="./">
      Functional Basics
    </a>
    
      <ul>
        
          
            
              <li class="anchor">
                <a title="Function Declaration vs. Function Expression" href="#function-declaration-vs-function-expression">
                  Function Declaration vs. Function Expression
                </a>
              </li>
            
              <li class="anchor">
                <a title="Using Vector Functions" href="#using-vector-functions">
                  Using Vector Functions
                </a>
              </li>
            
              <li class="anchor">
                <a title="Currying" href="#currying">
                  Currying
                </a>
              </li>
            
              <li class="anchor">
                <a title="Partial Application" href="#partial-application">
                  Partial Application
                </a>
              </li>
            
              <li class="anchor">
                <a title="Composition" href="#composition">
                  Composition
                </a>
              </li>
            
              <li class="anchor">
                <a title="Lifting" href="#lifting">
                  Lifting
                </a>
              </li>
            
          
        
      </ul>
    
  </li>

      
        
  <li>
    <a class="" title="The Function Capsule" href="../capsule/">
      The Function Capsule
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">API Reference</span>
    <ul>
      
        
  <li>
    <span class="section">Data</span>
    <ul>
      
        
  <li>
    <a class="" title="Maybe" href="../../api-reference/maybe/">
      Maybe
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Either" href="../../api-reference/either/">
      Either
    </a>
    
  </li>

      
    </ul>
  </li>

      
        
  <li>
    <span class="section">Lib</span>
    <ul>
      
        
  <li>
    <a class="" title="ArrayList" href="../../auto-generate/Lib/ArrayList/">
      ArrayList
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Lambda" href="../../auto-generate/Lib/Lambda/">
      Lambda
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Math" href="../../auto-generate/Lib/Math/">
      Math
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Maybe" href="../../auto-generate/Lib/Maybe/">
      Maybe
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Object" href="../../auto-generate/Lib/Object/">
      Object
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Strings" href="../../auto-generate/Lib/Strings/">
      Strings
    </a>
    
  </li>

      
    </ul>
  </li>

      
        
  <li>
    <span class="section">Control</span>
    <ul>
      
        
  <li>
    <a class="" title="Applicative" href="../../auto-generate/Control/Applicative/">
      Applicative
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Functor" href="../../auto-generate/Control/Functor/">
      Functor
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Lens" href="../../auto-generate/Control/Lens/">
      Lens
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Monad" href="../../auto-generate/Control/Monad/">
      Monad
    </a>
    
  </li>

      
    </ul>
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="functional-basics">Functional Basics</h1>
<p>First of all, what is functional programming?</p>
<blockquote>
<p>In computer science, functional programming is a programming paradigm that treats computation
as the evaluation of mathematical functions and avoids changing-state and mutable data.</p>
</blockquote>
<p>Vector is a functional programming library that follows this credo and implements helpers and utilities
that allow you to do the same in your own code.</p>
<p>Before we get started, here's some things to know:</p>
<h3 id="function-declaration-vs-function-expression">Function Declaration vs. Function Expression</h3>
<p>You're probably very familiar with functions in PHP. But what you might not know is that there are
multiple ways to declare functions in PHP. The first is a declaration, where a function name is placed
into a function table keyed to its name and accessible globally (so long as it's loaded). The second method is
a function expression, where a function is placed into the PHP Closure object and stored in a scoped variable.</p>
<pre><code class="php">// Function Declaration
function add($a, $b) {
    return $a + $b;
}

// Function Expression
$add = function($a, $b) {
    return $a + $b;
}
</code></pre>

<p>We can use a function expression in the same way we use a regular function:</p>
<pre><code class="php">$add(1, 2); // Returns 3
</code></pre>

<p>Vector makes exclusive use of function expressions, both for consistency when combining functions together
and for their scoped nature.</p>
<h3 id="using-vector-functions">Using Vector Functions</h3>
<p>Functions in Vector are organized into modules, which each have some related functionality or 'theme.' We tell our code
that we want to use a Vector functions using the <code>Using</code> static method on the module we want to pull functions in from.</p>
<p>For instance, if we want to pull in the Vector wrapper function for <code>array_map</code> called <code>$map</code> from the List module, we would
write:</p>
<pre><code class="php">$map = Vector\Lib\List::Using('map');
</code></pre>

<p>This function expression places <code>$map</code> into the local scope for our use. We can load multiple functions using the built-in PHP syntax <code>list</code>:</p>
<pre><code class="php">list($map, $filter, $fold) = Vector\Lib\List::Using('map', 'filter', 'list');
</code></pre>

<p>And if you need an entire module and aren't afraid of using <code>extract</code>:</p>
<pre><code class="php">extract(Vector\Lib\List::UsingAll());
</code></pre>

<p>We'll go into more detail about how this is implemented, and more importantly, how you can implement your own modules in the 'Function Capsule' section.</p>
<h2 id="currying">Currying</h2>
<p>Currying is the act of modifying a function in such a way that it can accept its arguments in chunks. A curried function
doesn't have to be supplied all of its arguments in order to have some effect.</p>
<p>Say we have a function that adds two numbers together.</p>
<pre><code class="php">$add = function($a, $b) {
    return $a + $b;
}
</code></pre>

<p>When we want to use add, we have to supply it two arguments, <code>$a</code> and <code>$b</code>. But say we want to give it is first argument,
go do something else, then come back and give it its second argument. We can curry the <code>$add</code> function to allow us to do this.</p>
<pre><code class="php">$addCurried = function($a) {
    return function($b) use ($a) {
        return $a + $b;
    }
}
</code></pre>

<p>Now we can use the <code>$add</code> function like this:</p>
<pre><code class="php">$addNow = $addCurried(1); // $addNow = curried PHP closure
$addLater = $addNow(2);   // $addLater = 3;
</code></pre>

<p>Why in the world would we ever want to do this? Currying in and of itself doesn't give us much,
but it has a powerful consequence: Partial Application.</p>
<h2 id="partial-application">Partial Application</h2>
<p>Notice in the previous example how we stored the interim result of giving the first argument to our curried <code>$add</code> function in a local variable
called <code>$addNow</code>. This variable is a function expression, and it can be used in the same way as any other function. The first argument we've given
it has been closed over, and this is now a completely new function with different behaviors from <code>$add</code>. Let's rename it to <code>$increment</code> and see how it behaves:</p>
<pre><code class="php">$increment = $addCurried(1);

$increment(2); // 3
$increment(0); // 1
$increment(9); // 10
</code></pre>

<p>We've taken our <code>$add</code> function and created an increment function, without writing a single line of code aside from applying the first argument. We can create an infinite
number of <code>$addX</code> functions in exactly the same way.</p>
<p>All functions in Vector are curried by default, so they can all be partially applied.</p>
<h2 id="composition">Composition</h2>
<p>We've now seen how we can create functions from other functions by partially applying them. But there are other ways to create new functions from small components.
We can also compose them together, which is like creating a chain of steps for a function to step through, from beginning to end.</p>
<p>Vector provides a <code>$compose</code> function in the Lambda module which we can pull in and play around with. <code>$compose</code> takes its arguments and applies them sequentially from
back to front - provided every argument is a function.</p>
<p>Let's say we want to create a function that converts from celcius to fahrenheit, and that we've already implmented the basic mathematical functions like
add, subtract, multiply, and divide. We can use <code>$compose</code> to chain all these calculations together to create a <code>$toFahrenheit</code> function:</p>
<pre><code class="php">// Given that we have $add and $multiply, pull in compose:
$compose = Vector\Lib\Lambda::Using('compose');

// Then create our function
$toFahrenheit = $compose(
    $add(32),
    $multiply(9/5)
);

$toFahrenheit(8); // Returns 46.4
</code></pre>

<p>Notice how <code>$compose</code> reads: We first perform the operation last in the list, then move backward to the front of the list. This is laid out to match the mathematical definition
of compose: <code>(f âˆ˜ g)(x) = f(g(x))</code>. If you can't wrap your head around the backwards nature, Vector also supplied a <code>$pipe</code> function on the Lambda module that acts as compose
from front-to-back.</p>
<p>Notice also how we used partial application to create helper functions from <code>$add</code> and <code>$multiply</code>. These two methods
can be mixed and matched to create more complex functions from very simple components.</p>
<h2 id="lifting">Lifting</h2>
<p>Let's use our <code>$toFahrenheit</code> function from before, but imagine instead that we want to apply it to a list of temperatures. Instead of looping over the
list in a procedural way, let's use <code>$map</code> from the List module.</p>
<pre><code class="php">$map = Vector\Lib\List::Using('map');

// Our list of temperatures
$data = [50.0, 176.0, 212.0];

$map($toFahrenheit, $data); // Returns [10, 80, 100]
</code></pre>

<p>If you've ever used PHP's <code>array_map</code> before, you should recognize what's going on. <code>$map</code> is taking a function with one input and one output, and sequentially
applying it to every element in an array.</p>
<p>However, <code>$map</code> is a function just like any other - it's curried, and it can be partially applied. If we partially apply <code>$map</code>, we've created a new function that now operates
on a list as opposed to a single element. We've lifted it from one domain to another. Let's see how we can use this in conjunction with partial application and composition, putting
it all together.</p>
<p>Say we have a set of data from a temperature probe, but it's uncalibrated. Our task is to calculate the mean temperature from the probe's 10 samples after correcting the values by shifting
them one degree higher.</p>
<pre><code class="php">// Using the $mean function from the Math module and all the functions we've made so far
$mean = Vector\Lib\Math::Using('mean');

$correctedMeanTemp = $compose(
    $mean,
    $map(
        $compose($toFahrenheit, $add(1))
    )
);
</code></pre>

<p>Notice how we have created a function to complete our task without even bothering to load our data in - we don't need it. Our function will first
add one to every element in the dataset and then convert it to fahrenheit, then pass that mapped array to our mean function.</p>
<p>Now we can take our <code>$correctedMeanTemp</code> and add it to our own Vector module and use it throughout our codebase whenever we need to work with sample data.</p>
<p>In the next section, we'll go over the Vector function capsule - how it works, and how you can make your own.</p>
          <aside class="copyright" role="note">
            
              Copyright (c) 2016 Joseph Walker &ndash;
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../.." title="Introduction">
          <span class="direction">Previous</span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Introduction
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../capsule/" title="The Function Capsule">
          <span class="direction">Next</span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                The Function Capsule
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div></article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    <script>
      var base_url = '../..';
      var repo_id  = 'joseph-walker/vector';
    </script>
    <script src="../../assets/javascripts/application-c6d2e828bd.js"></script>
    
    
  </body>
</html>